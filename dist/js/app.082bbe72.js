(function(){"use strict";var e={8742:function(e,t,n){var r=n(9242),a=n(3396);const o={class:"app"};function s(e,t,n,r,s,i){const l=(0,a.up)("navbar"),u=(0,a.up)("router-view");return(0,a.wg)(),(0,a.iD)(a.HY,null,[(0,a.Wm)(l),(0,a._)("div",o,[(0,a.Wm)(u)])],64)}n(7658);const i={class:"navbar"},l={key:0,class:"navbar__btns"},u={key:1,class:"navbar__btns"};function c(e,t,n,r,o,s){return(0,a.wg)(),(0,a.iD)("div",i,[(0,a._)("div",{onClick:t[0]||(t[0]=t=>e.$router.push("/")),class:"navbar__title"},"CRUD"),o.authorizationStore.userToken?((0,a.wg)(),(0,a.iD)("div",l,[(0,a._)("button",{class:"navbar__btn",onClick:t[1]||(t[1]=t=>e.$router.push("/usersbase"))},"Users list"),(0,a._)("button",{class:"navbar__btn",onClick:t[2]||(t[2]=(...e)=>s.logout&&s.logout(...e))},"Log out")])):((0,a.wg)(),(0,a.iD)("div",u,[(0,a._)("button",{class:"navbar__btn",onClick:t[3]||(t[3]=t=>e.$router.push("/login"))},"Login"),(0,a._)("button",{class:"navbar__btn",onClick:t[4]||(t[4]=t=>e.$router.push("/registration"))},"Registration")]))])}var d=n(2483);const m=e=>((0,a.dD)("data-v-4e8ca0e2"),e=e(),(0,a.Cn)(),e),p={class:"content"},h=m((()=>(0,a._)("h1",null,"Welcome to the CRUD app",-1))),g=[h];function _(e,t){return(0,a.wg)(),(0,a.iD)("div",p,g)}var v=n(89);const f={},w=(0,v.Z)(f,[["render",_],["__scopeId","data-v-4e8ca0e2"]]);var b=w;const y=e=>((0,a.dD)("data-v-1b5acdad"),e=e(),(0,a.Cn)(),e),k={class:"form__inner"},I=y((()=>(0,a._)("legend",null,"Authorization",-1))),C=y((()=>(0,a._)("label",null,"Login",-1))),E=y((()=>(0,a._)("label",null,"Password",-1)));function S(e,t,n,o,s,i){return(0,a.wg)(),(0,a.iD)("form",{onSubmit:t[5]||(t[5]=(0,r.iM)((()=>{}),["prevent"])),class:"form"},[(0,a._)("div",k,[I,C,(0,a.wy)((0,a._)("input",{type:"text",placeholder:"Enter your login","onUpdate:modelValue":t[0]||(t[0]=e=>s.email=e)},null,512),[[r.nr,s.email]]),E,(0,a.wy)((0,a._)("input",{type:"password",placeholder:"Enter your password","onUpdate:modelValue":t[1]||(t[1]=e=>s.password=e)},null,512),[[r.nr,s.password]]),(0,a._)("button",{onClick:t[2]||(t[2]=(...e)=>i.logIn&&i.logIn(...e))},"Login in #1"),(0,a._)("button",{onClick:t[3]||(t[3]=(...e)=>i.authorization&&i.authorization(...e))},"Login in #2"),(0,a._)("span",null,[(0,a.Uk)("Don't have an account? "),(0,a._)("a",{class:"hypertext-btn",onClick:t[4]||(t[4]=t=>e.$router.push("/registration"))},"Register here!")])])],32)}var U=n(2578),D=n(4870);const O=(0,U.Q_)("authorizationStore",(()=>{const e=(0,D.iH)([{email:"john@mail.com",password:"changeme"},{email:"nike-jam@mail.com",password:"qwerty"},{email:"test@mail.com",password:"testacc"}]);let t=(0,D.iH)(null);const n=localStorage.getItem("userToken");n&&(t.value=JSON.parse(n)._value),(0,a.YP)((()=>t),(e=>{localStorage.setItem("userToken",JSON.stringify(e))}),{deep:!0});const r=localStorage.getItem("loginData");return r&&(e.value=JSON.parse(r)._value),(0,a.YP)((()=>e),(e=>{localStorage.setItem("loginData",JSON.stringify(e))}),{deep:!0}),{loginData:e,userToken:t,loginInLocalStorage:r,userTokenInLocalStorage:n}}));var N=n(4161),z={data(){return{email:"john@mail.com",password:"changeme",authorizationStore:O(),loginData:O().loginData}},methods:{authorization(){this.loginData.filter((e=>JSON.stringify(e)==JSON.stringify({email:this.email,password:this.password}))).length>0&&(this.authorizationStore.userToken="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJzdWIiOiIzNDM0NTY3ODkwIiwibmFtZSI6IlRlc3QgVXNlciIsImlhdCI6MTUxNjIzOTAyMn0.Z5nZb8tvEm2q4gkj2oDK2x2ZdxoBrkOz0SXE1OK5ScQ",console.log(this.authorizationStore.userToken),Ae.push("/usersbase"))},async logIn(){let e="https://api.escuelajs.co/api/v1/auth/login";await N.Z.post(e,{email:this.email,password:this.password}).then((e=>{this.authorizationStore.userToken={accessToken:e.data.access_token,refreshToken:e.data.refresh_token},console.log(this.authorizationStore.userToken),Ae.push("/usersbase")})).catch((e=>{console.error(e)}))}}};const L=(0,v.Z)(z,[["render",S],["__scopeId","data-v-1b5acdad"]]);var T=L,A=n(7139);const j=e=>((0,a.dD)("data-v-79fc4ca7"),e=e(),(0,a.Cn)(),e),x={class:"form__inner"},R=j((()=>(0,a._)("legend",null,"Registration",-1))),Z=j((()=>(0,a._)("label",null,"Email",-1))),J=j((()=>(0,a._)("label",null,"Password",-1))),V=j((()=>(0,a._)("label",null,"Confirm your password",-1)));function W(e,t,n,o,s,i){return(0,a.wg)(),(0,a.iD)("form",{onSubmit:t[5]||(t[5]=(0,r.iM)((()=>{}),["prevent"])),class:"form"},[(0,a._)("div",x,[R,Z,(0,a.wy)((0,a._)("input",{type:"email",placeholder:"Enter your email","onUpdate:modelValue":t[0]||(t[0]=e=>s.email=e)},null,512),[[r.nr,s.email]]),J,(0,a.wy)((0,a._)("input",{type:"password",placeholder:"Create your password","onUpdate:modelValue":t[1]||(t[1]=e=>s.password=e),class:(0,A.C_)({danger:this.password!=this.passwordConfirm})},null,2),[[r.nr,s.password]]),V,(0,a.wy)((0,a._)("input",{type:"password",placeholder:"Repeat your password","onUpdate:modelValue":t[2]||(t[2]=e=>s.passwordConfirm=e)},null,512),[[r.nr,s.passwordConfirm]]),(0,a._)("button",{onClick:t[3]||(t[3]=(...e)=>i.registration&&i.registration(...e))},"Register"),(0,a._)("span",null,[(0,a.Uk)("Already have an account? "),(0,a._)("a",{class:"hypertext-btn",onClick:t[4]||(t[4]=t=>e.$router.push("/login"))},"Login In")])])],32)}var $={data(){return{email:"",password:"",passwordConfirm:"",loginStore:O().loginData}},methods:{registration(){this.password==this.passwordConfirm&&(this.loginStore.push({email:this.email,password:this.password}),Ae.push("/login"))}}};const P=(0,v.Z)($,[["render",W],["__scopeId","data-v-79fc4ca7"]]);var M=P;const B={class:"user"};function Y(e,t,n,r,o,s){const i=(0,a.up)("user-form"),l=(0,a.up)("user-list");return(0,a.wg)(),(0,a.iD)("div",B,[(0,a.Wm)(i,{onCreate:s.addNewUser,"current-id":o.userList.length},null,8,["onCreate","current-id"]),(0,a.Wm)(l,{userList:this.userList,onRemove:s.removeUser},null,8,["userList","onRemove"])])}const q=e=>((0,a.dD)("data-v-11821277"),e=e(),(0,a.Cn)(),e),H={class:"form__inner"},Q=q((()=>(0,a._)("h1",{class:"form__title"},"Add new user",-1))),X={class:"form__group"},F=q((()=>(0,a._)("label",null,"Name",-1))),K={class:"form__group"},G=q((()=>(0,a._)("label",null,"e-mail",-1)));function ee(e,t,n,o,s,i){return(0,a.wg)(),(0,a.iD)("div",null,[(0,a._)("form",{class:"form",onSubmit:t[3]||(t[3]=(0,r.iM)((()=>{}),["prevent"]))},[(0,a._)("div",H,[Q,(0,a._)("div",X,[F,(0,a.wy)((0,a._)("input",{type:"text",id:"user-name",placeholder:"Enter user name","onUpdate:modelValue":t[0]||(t[0]=e=>s.user.name=e)},null,512),[[r.nr,s.user.name]])]),(0,a._)("div",K,[G,(0,a.wy)((0,a._)("input",{type:"email",id:"user-email",placeholder:"Enter user e-mail","onUpdate:modelValue":t[1]||(t[1]=e=>s.user.email=e)},null,512),[[r.nr,s.user.email]])]),(0,a._)("button",{onClick:t[2]||(t[2]=(...e)=>i.addNewUser&&i.addNewUser(...e))},"Add user")])],32)])}var te={data(){return{user:{id:null,name:"",email:"",role:"user",isEditing:!1}}},emits:["create"],props:{currentId:{type:Number,required:!0}},methods:{addNewUser(){this.user.id=this.currentId,this.user.isEditing=!1,this.$emit("create",this.user),this.user={id:null,name:"",email:""}}}};const ne=(0,v.Z)(te,[["render",ee],["__scopeId","data-v-11821277"]]);var re=ne;const ae=e=>((0,a.dD)("data-v-716b0d48"),e=e(),(0,a.Cn)(),e),oe={class:"userlist"},se=ae((()=>(0,a._)("thead",{class:"userlist__header"},[(0,a._)("tr",null,[(0,a._)("td",null,"User name"),(0,a._)("td",null,"User Email"),(0,a._)("td",null,"Actions")])],-1)));function ie(e,t,n,r,o,s){const i=(0,a.up)("user-item");return(0,a.wg)(),(0,a.iD)("table",oe,[se,(0,a._)("tbody",null,[((0,a.wg)(!0),(0,a.iD)(a.HY,null,(0,a.Ko)(n.userList,(n=>((0,a.wg)(),(0,a.j4)(i,{key:n.id,user:n,onRemove:t[0]||(t[0]=t=>e.$emit("remove",e.post))},null,8,["user"])))),128))])])}const le={key:0,class:"user"},ue={class:"user__name"},ce={class:"user__email"},de={class:"action-btn"},me={key:1,class:"user"},pe={class:"user__name"},he={class:"user__email"},ge={class:"action-btn"};function _e(e,t,n,o,s,i){const l=(0,a.up)("action-btn");return n.user.isEditing?((0,a.wg)(),(0,a.iD)("tr",me,[(0,a._)("td",pe,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[2]||(t[2]=e=>s.changedName=e)},null,512),[[r.nr,s.changedName]])]),(0,a._)("td",he,[(0,a.wy)((0,a._)("input",{"onUpdate:modelValue":t[3]||(t[3]=e=>s.changedEmail=e)},null,512),[[r.nr,s.changedEmail]])]),(0,a._)("td",ge,[(0,a.Wm)(l,{class:"confirm-btn",onClick:t[4]||(t[4]=e=>i.confirmEditing(n.user))},{default:(0,a.w5)((()=>[(0,a.Uk)("Ok")])),_:1}),(0,a.Wm)(l,{class:"danger-btn",onClick:t[5]||(t[5]=e=>i.stopEditing(n.user))},{default:(0,a.w5)((()=>[(0,a.Uk)("X")])),_:1})])])):((0,a.wg)(),(0,a.iD)("tr",le,[(0,a._)("td",ue,(0,A.zw)(n.user.name),1),(0,a._)("td",ce,(0,A.zw)(n.user.email),1),(0,a._)("td",de,[(0,a.Wm)(l,{class:"edit-btn",onClick:t[0]||(t[0]=e=>i.editUser(n.user))},{default:(0,a.w5)((()=>[(0,a.Uk)("E")])),_:1}),(0,a.Wm)(l,{class:"danger-btn",onClick:t[1]||(t[1]=t=>e.$emit("remove",n.user))},{default:(0,a.w5)((()=>[(0,a.Uk)("D")])),_:1})])]))}const ve={class:"btn"};function fe(e,t,n,r,o,s){return(0,a.wg)(),(0,a.iD)("button",ve,[(0,a.WI)(e.$slots,"default",{},void 0,!0)])}var we={name:"action-btn"};const be=(0,v.Z)(we,[["render",fe],["__scopeId","data-v-3939cce1"]]);var ye=be,ke={components:{ActionButton:ye},props:{user:{type:Object,requaired:!0}},emits:["remove"],data(){return{changedName:"",changedEmail:""}},methods:{editUser(e){e.isEditing=!0,this.changedName=e.name,this.changedEmail=e.email},confirmEditing(e){e.name=this.changedName,e.email=this.changedEmail,this.stopEditing(e)},stopEditing(e){this.changedEmail="",this.changedName="",e.isEditing=!1}}};const Ie=(0,v.Z)(ke,[["render",_e],["__scopeId","data-v-2c7d5e5a"]]);var Ce=Ie,Ee={components:{UserItem:Ce},props:{userList:{type:Array,reqired:!0}},emits:["remove"],data(){return{}},methods:{}};const Se=(0,v.Z)(Ee,[["render",ie],["__scopeId","data-v-716b0d48"]]);var Ue=Se;const De=(0,U.Q_)("userStore",(()=>{const e=(0,D.iH)([{id:1,name:"John",email:"j.trvlt@yahoo.com",isEditing:!1},{id:2,name:"Adolf",email:"adolBf@gmail.com",isEditing:!1},{id:3,name:"Alex",email:"alex-hirsh@gmail.com",isEditing:!1},{id:4,name:"Admin",email:"coolAdmin@bk.co",isEditing:!1},{id:5,name:"Admin333",email:"coolAdmin21321@bk.co",isEditing:!1}]),t=localStorage.getItem("users");return t&&(e.value=JSON.parse(t)._value),(0,a.YP)((()=>e),(e=>{localStorage.setItem("users",JSON.stringify(e))}),{deep:!0}),{users:e}}));var Oe={components:{UserForm:re,UserList:Ue},data(){return{userList:De().users}},methods:{addNewUser(e){this.userList.push(e)},removeUser(e){this.userList.splice(this.userList.indexOf(e),1)}}};const Ne=(0,v.Z)(Oe,[["render",Y]]);var ze=Ne;const Le=[{path:"/",component:b},{path:"/login",component:T},{path:"/registration",component:M},{path:"/usersbase",component:ze}],Te=(0,d.p7)({routes:Le,history:(0,d.PO)({NODE_ENV:"production",BASE_URL:"/CRUD/"}.BASE_URl)});var Ae=Te,je={data(){return{authorizationStore:O()}},methods:{logout(){this.authorizationStore.userToken=null,Ae.push("/login")}}};const xe=(0,v.Z)(je,[["render",c],["__scopeId","data-v-1aa96ee8"]]);var Re=xe,Ze={components:{Navbar:Re},data(){return{loginStore:O()}}};const Je=(0,v.Z)(Ze,[["render",s]]);var Ve=Je,We=[ye];const $e=(0,U.WB)(),Pe=(0,r.ri)(Ve);We.forEach((e=>{Pe.component(e.name,e)})),Pe.use(Ae).use($e).mount("#app")}},t={};function n(r){var a=t[r];if(void 0!==a)return a.exports;var o=t[r]={exports:{}};return e[r].call(o.exports,o,o.exports,n),o.exports}n.m=e,function(){var e=[];n.O=function(t,r,a,o){if(!r){var s=1/0;for(c=0;c<e.length;c++){r=e[c][0],a=e[c][1],o=e[c][2];for(var i=!0,l=0;l<r.length;l++)(!1&o||s>=o)&&Object.keys(n.O).every((function(e){return n.O[e](r[l])}))?r.splice(l--,1):(i=!1,o<s&&(s=o));if(i){e.splice(c--,1);var u=a();void 0!==u&&(t=u)}}return t}o=o||0;for(var c=e.length;c>0&&e[c-1][2]>o;c--)e[c]=e[c-1];e[c]=[r,a,o]}}(),function(){n.n=function(e){var t=e&&e.__esModule?function(){return e["default"]}:function(){return e};return n.d(t,{a:t}),t}}(),function(){n.d=function(e,t){for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})}}(),function(){n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}()}(),function(){n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)}}(),function(){var e={143:0};n.O.j=function(t){return 0===e[t]};var t=function(t,r){var a,o,s=r[0],i=r[1],l=r[2],u=0;if(s.some((function(t){return 0!==e[t]}))){for(a in i)n.o(i,a)&&(n.m[a]=i[a]);if(l)var c=l(n)}for(t&&t(r);u<s.length;u++)o=s[u],n.o(e,o)&&e[o]&&e[o][0](),e[o]=0;return n.O(c)},r=self["webpackChunkcrud"]=self["webpackChunkcrud"]||[];r.forEach(t.bind(null,0)),r.push=t.bind(null,r.push.bind(r))}();var r=n.O(void 0,[998],(function(){return n(8742)}));r=n.O(r)})();
//# sourceMappingURL=app.082bbe72.js.map